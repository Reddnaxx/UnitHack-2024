(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{539:function(e,r,s){Promise.resolve().then(s.t.bind(s,4686,23)),Promise.resolve().then(s.bind(s,9657))},7138:function(e,r,s){"use strict";s.d(r,{default:function(){return n.a}});var t=s(231),n=s.n(t)},9657:function(e,r,s){"use strict";s.d(r,{default:function(){return b}});var t=s(7437),n=s(6520),o=s(9373),i=s(6548),a=s(9343),l=s(1014),u=s(9772);let d=u.z.object({email:u.z.string().email("Неверный формат почты").min(1,"Необходимо ввести почту"),fullName:u.z.string().min(1,"Необходимо ввести имя"),birthday:u.z.string().optional(),phoneNumber:u.z.string().optional(),address:u.z.string().optional(),password:u.z.string().min(1,"Необходимо ввести пароль"),confirmPassword:u.z.string().min(1,"Необходимо повторить пароль")}).refine(e=>e.confirmPassword===e.password,{message:"Пароли должны совпадать",path:["confirmPassword"]});var m=s(5410),c=s.n(m),f=s(7138),p=s(4952),h=s(9874),g=s(5069),x=s(1274),b=function(e){var r,s,u,m,b,v;let{...w}=e,{register:_,formState:{errors:y,isValid:z,isSubmitting:N},setValue:j,getValues:P,handleSubmit:S}=(0,a.cI)({mode:"onChange",resolver:(0,l.F)(d)}),k=(0,x.t)(e=>e.register),Z=async e=>{await k({email:e.email,address:e.address,phoneNumber:e.phoneNumber,fullName:e.fullName,password:e.password,birthday:e.birthday,role:"user"})};return(0,t.jsx)(p._,{dateAdapter:g.y,children:(0,t.jsxs)(n.Z,{component:"form",sx:{backgroundColor:"rgba(255,255,255,0.01)",minWidth:"25dvw"},className:c()["register-form"],onSubmit:S(Z),children:[(0,t.jsx)("h2",{children:"Регистрация"}),(0,t.jsx)(o.Z,{label:"Почта",required:!0,type:"email",error:!!y.email,helperText:null===(r=y.email)||void 0===r?void 0:r.message,inputProps:{sx:{fontSize:"1.25rem"}},..._("email")}),(0,t.jsx)(o.Z,{label:"Имя",required:!0,type:"text",error:!!y.fullName,helperText:null===(s=y.fullName)||void 0===s?void 0:s.message,inputProps:{sx:{fontSize:"1.25rem"}},..._("fullName")}),(0,t.jsx)(h.M,{label:"День рождения",sx:{fontSize:"1.25rem"},format:"YYYY.MM.DD",onChange:e=>{var r;return j("birthday",null!==(r=null==e?void 0:e.toISOString().substring(0,10))&&void 0!==r?r:"")}}),(0,t.jsx)(o.Z,{label:"Адрес",type:"text",error:!!y.address,helperText:null===(u=y.address)||void 0===u?void 0:u.message,inputProps:{sx:{fontSize:"1.25rem"}},..._("address")}),(0,t.jsx)(o.Z,{label:"Телефон",type:"tel",error:!!y.phoneNumber,helperText:null===(m=y.phoneNumber)||void 0===m?void 0:m.message,inputProps:{sx:{fontSize:"1.25rem"}},..._("phoneNumber")}),(0,t.jsx)(o.Z,{label:"Пароль",required:!0,type:"password",InputProps:{sx:{fontSize:"1.25rem"}},error:!!y.password,helperText:null===(b=y.password)||void 0===b?void 0:b.message,..._("password")}),(0,t.jsx)(o.Z,{label:"Повторите пароль",required:!0,type:"password",InputProps:{sx:{fontSize:"1.25rem"}},error:!!y.confirmPassword,helperText:null===(v=y.confirmPassword)||void 0===v?void 0:v.message,..._("confirmPassword")}),(0,t.jsx)(i.Z,{variant:"contained",color:"primary",sx:{fontSize:"1.25rem",color:"#ffffff"},disabled:N||!z,type:"submit",children:"Зарегистрироваться"}),(0,t.jsxs)("div",{className:c()["register-form__has-acc"],children:[(0,t.jsx)("p",{children:"Уже есть аккаунт?"}),(0,t.jsx)(f.default,{href:"login",children:"Войти"})]})]})})}},8378:function(e,r,s){"use strict";var t=s(2126);r.Z=t.Z.create({baseURL:"http://www.unithack.somee.com"})},1274:function(e,r,s){"use strict";s.d(r,{t:function(){return a}});var t=s(9099),n=s(9291),o=s(8378);class i{static async login(e,r){return await o.Z.post("/user/token",{email:e,password:r}).then(e=>e.data)}static async register(e){return await o.Z.post("/user/register",e).then(e=>e.data)}}let a=(0,t.Ue)()((0,n.mW)((0,n.tJ)((e,r)=>({user:null,accessToken:null,isAuth:!1,login:async(r,s)=>{let t=await i.login(r,s);t&&e(e=>({user:t.user,accessToken:t.accessToken,isAuth:!0}))},register:async e=>{await i.register(e)},logout:()=>{e(()=>({user:null,accessToken:null,isAuth:!1}))}}),{name:"auth",storage:(0,n.FL)(()=>localStorage)})))},4686:function(e){e.exports={register:"page_register__zAP10"}},5410:function(e){e.exports={"register-form":"register-form_style_register-form__nPkdJ","register-form__has-acc":"register-form_style_register-form__has-acc__lHhjQ"}}},function(e){e.O(0,[434,520,200,231,764,128,126,328,373,343,567,894,971,23,744],function(){return e(e.s=539)}),_N_E=e.O()}]);